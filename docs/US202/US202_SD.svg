<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="803.7px" preserveAspectRatio="none" style="width:1506px;height:803px;" version="1.1" viewBox="0 0 1506 803" width="1506.6px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wlqvehcdjhes" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.8"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.6" dy="3.6" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="629.3953" style="stroke:#A80036;stroke-width:0.9;" width="9" x="41.4" y="89.6484"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="304.2" y="124.4813"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="531.8297" style="stroke:#A80036;stroke-width:0.9;" width="9" x="304.2" y="179.1141"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="462.4805" style="stroke:#A80036;stroke-width:0.9;" width="9" x="497.7" y="206.4305"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="652.5" y="233.7469"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="652.5" y="451.0125"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="727.65" y="288.0633"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="789.3" y="342.3797"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="877.05" y="396.6961"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1077.3" y="505.3289"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1165.95" y="559.6453"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1348.65" y="614.2781"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="45.9" x2="45.9" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="308.25" x2="308.25" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="501.75" x2="501.75" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="657" x2="657" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="731.7" x2="731.7" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="793.8" x2="793.8" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="881.1" x2="881.1" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="992.7" x2="992.7" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="1081.8" x2="1081.8" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="1170" x2="1170" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="1261.8" x2="1261.8" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="1352.7" x2="1352.7" y1="80.6484" y2="727.1438"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="1451.7" x2="1451.7" y1="80.6484" y2="727.1438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="77.4" x="4.5" y="77.8799">Port Manager</text><ellipse cx="45.9" cy="13.5" fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" rx="7.2" ry="7.2" style="stroke:#A80036;stroke-width:1.8;"/><path d="M45.9,20.7 L45.9,45 M34.2,27.9 L57.6,27.9 M45.9,45 L34.2,58.5 M45.9,45 L57.6,58.5 " fill="none" filter="url(#f1wlqvehcdjhes)" style="stroke:#A80036;stroke-width:1.8;"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="77.4" x="4.5" y="739.3236">Port Manager</text><ellipse cx="45.9" cy="751.0922" fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" rx="7.2" ry="7.2" style="stroke:#A80036;stroke-width:1.8;"/><path d="M45.9,758.2922 L45.9,782.5922 M34.2,765.4922 L57.6,765.4922 M45.9,782.5922 L34.2,796.0922 M45.9,782.5922 L57.6,796.0922 " fill="none" filter="url(#f1wlqvehcdjhes)" style="stroke:#A80036;stroke-width:1.8;"/><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="117.9" x="247.95" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="105.3" x="254.25" y="67.0799">:FindClosestPortUI</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="117.9" x="247.95" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="105.3" x="254.25" y="745.6236">:FindClosestPortUI</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="162.9" x="418.95" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="150.3" x="425.25" y="67.0799">:FindClosestPortController</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="162.9" x="418.95" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="150.3" x="425.25" y="745.6236">:FindClosestPortController</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="66.6" x="621.9" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="54" x="628.2" y="67.0799">Company</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="66.6" x="621.9" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="54" x="628.2" y="745.6236">Company</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="58.5" x="701.1" y="31.8516"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="45.9" x="707.4" y="51.2314">bstShip:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="43.2" x="708.75" y="67.0799">BstShip</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="58.5" x="701.1" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="45.9" x="707.4" y="745.6236">bstShip:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="43.2" x="708.75" y="761.4721">BstShip</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="39.6" x="772.2" y="31.8516"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="27" x="778.5" y="51.2314">ship:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="25.2" x="779.4" y="67.0799">Ship</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="39.6" x="772.2" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="27" x="778.5" y="745.6236">ship:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="25.2" x="779.4" y="761.4721">Ship</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="110.7" x="824.4" y="31.8516"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="93.6" x="832.95" y="51.2314">shipLocationBst:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="98.1" x="830.7" y="67.0799">ShipLocationBST</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="110.7" x="824.4" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="93.6" x="832.95" y="745.6236">shipLocationBst:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="98.1" x="830.7" y="761.4721">ShipLocationBST</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="86.4" x="947.7" y="31.8516"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="47.7" x="967.05" y="51.2314">location:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="73.8" x="954" y="67.0799">ShipLocation</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="86.4" x="947.7" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="47.7" x="967.05" y="745.6236">location:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="73.8" x="954" y="761.4721">ShipLocation</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="66.6" x="1046.7" y="31.8516"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.3" x="1058.85" y="51.2314">portStr:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="54" x="1053" y="67.0799">PortStore</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="66.6" x="1046.7" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.3" x="1058.85" y="745.6236">portStr:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="54" x="1053" y="761.4721">PortStore</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="85.5" x="1125.9" y="31.8516"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="59.4" x="1138.95" y="51.2314">portsTree:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="72.9" x="1132.2" y="67.0799">Ports2DTree</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="44.2969" style="stroke:#A80036;stroke-width:1.35;" width="85.5" x="1125.9" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="59.4" x="1138.95" y="745.6236">portsTree:</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="72.9" x="1132.2" y="761.4721">Ports2DTree</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="72" x="1224" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="59.4" x="1230.3" y="67.0799">port: Ports</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="72" x="1224" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="59.4" x="1230.3" y="745.6236">port: Ports</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="85.5" x="1308.6" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="72.9" x="1314.9" y="67.0799">PortsMapper</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="85.5" x="1308.6" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="72.9" x="1314.9" y="745.6236">PortsMapper</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="87.3" x="1406.7" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="74.7" x="1413" y="67.0799">dto: PortsDto</text><rect fill="#FEFECE" filter="url(#f1wlqvehcdjhes)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="87.3" x="1406.7" y="726.2438"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="74.7" x="1413" y="745.6236">dto: PortsDto</text><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="629.3953" style="stroke:#A80036;stroke-width:0.9;" width="9" x="41.4" y="89.6484"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="304.2" y="124.4813"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="531.8297" style="stroke:#A80036;stroke-width:0.9;" width="9" x="304.2" y="179.1141"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="462.4805" style="stroke:#A80036;stroke-width:0.9;" width="9" x="497.7" y="206.4305"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="652.5" y="233.7469"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="652.5" y="451.0125"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="727.65" y="288.0633"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="789.3" y="342.3797"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="877.05" y="396.6961"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1077.3" y="505.3289"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1165.95" y="559.6453"/><rect fill="#FFFFFF" filter="url(#f1wlqvehcdjhes)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1348.65" y="614.2781"/><polygon fill="#A80036" points="293.4,120.8813,302.4,124.4813,293.4,128.0813,297,124.4813" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="50.4" x2="298.8" y1="124.4813" y2="124.4813"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="56.7" y="112.7522">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="223.2" x="66.6" y="105.394">Initiates the process to get the closest port</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="174.6" x="70.2" y="120.1104">to a certain ship in a certain time.</text><polygon fill="#A80036" points="60.3,148.1977,51.3,151.7977,60.3,155.3977,56.7,151.7977" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="54.9" x2="307.8" y1="151.7977" y2="151.7977"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="65.7" y="147.4269">2</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="211.5" x="75.6" y="147.4269">Request the ship's CallSign and the date</text><polygon fill="#A80036" points="293.4,175.5141,302.4,179.1141,293.4,182.7141,297,179.1141" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="50.4" x2="298.8" y1="179.1141" y2="179.1141"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="56.7" y="174.7433">3</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="148.5" x="66.6" y="174.7433">Introduce the requested data</text><polygon fill="#A80036" points="486.9,202.8305,495.9,206.4305,486.9,210.0305,490.5,206.4305" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="313.2" x2="492.3" y1="206.4305" y2="206.4305"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="319.5" y="202.0597">4</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="157.5" x="329.4" y="202.0597">findClosestPort(callSign, date)</text><polygon fill="#A80036" points="641.7,230.1469,650.7,233.7469,641.7,237.3469,645.3,233.7469" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="647.1" y1="233.7469" y2="233.7469"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="513" y="229.3761">5</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="118.8" x="522.9" y="229.3761">bstShip = getBstShip()</text><polygon fill="#A80036" points="716.85,284.4633,725.85,288.0633,716.85,291.6633,720.45,288.0633" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="722.25" y1="288.0633" y2="288.0633"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="513" y="283.6925">6</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="181.8" x="522.9" y="283.6925">ship = getShipByCallSign(callSign)</text><polygon fill="#A80036" points="778.5,338.7797,787.5,342.3797,778.5,345.9797,782.1,342.3797" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="783.9" y1="342.3797" y2="342.3797"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="513" y="338.0089">7</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="187.2" x="522.9" y="338.0089">shipLocationBst = getShipPosition()</text><polygon fill="#A80036" points="866.25,393.0961,875.25,396.6961,866.25,400.2961,869.85,396.6961" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="871.65" y1="396.6961" y2="396.6961"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="513" y="392.3253">8</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="161.1" x="522.9" y="392.3253">location=getShipLocation(date)</text><polygon fill="#A80036" points="641.7,447.4125,650.7,451.0125,641.7,454.6125,645.3,451.0125" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="647.1" y1="451.0125" y2="451.0125"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="513" y="446.6417">9</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="109.8" x="522.9" y="446.6417">portStr = getPortStr()</text><polygon fill="#A80036" points="1066.5,501.7289,1075.5,505.3289,1066.5,508.9289,1070.1,505.3289" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="1071.9" y1="505.3289" y2="505.3289"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="513" y="500.9581">10</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="151.2" x="529.2" y="500.9581">portsTree = getPorts2DTree()</text><polygon fill="#A80036" points="1155.15,556.0453,1164.15,559.6453,1155.15,563.2453,1158.75,559.6453" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="1160.55" y1="559.6453" y2="559.6453"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="513" y="555.2745">11</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="209.7" x="529.2" y="555.2745">findNearestNeighbour(latitude, longitude)</text><polygon fill="#A80036" points="516.6,583.3617,507.6,586.9617,516.6,590.5617,513,586.9617" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="511.2" x2="1169.55" y1="586.9617" y2="586.9617"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="522" y="582.5909">12</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="19.8" x="538.2" y="582.5909">port</text><polygon fill="#A80036" points="1337.85,610.6781,1346.85,614.2781,1337.85,617.8781,1341.45,614.2781" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="506.7" x2="1343.25" y1="614.2781" y2="614.2781"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="513" y="609.9073">13</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="54.9" x="529.2" y="609.9073">toDto(port)</text><polygon fill="#A80036" points="516.6,637.9945,507.6,641.5945,516.6,645.1945,513,641.5945" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="511.2" x2="1352.25" y1="641.5945" y2="641.5945"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="522" y="637.2237">14</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="16.2" x="538.2" y="637.2237">dto</text><polygon fill="#A80036" points="323.1,665.3109,314.1,668.9109,323.1,672.5109,319.5,668.9109" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="317.7" x2="501.3" y1="668.9109" y2="668.9109"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="328.5" y="664.5401">15</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="16.2" x="344.7" y="664.5401">dto</text><polygon fill="#A80036" points="60.3,707.3438,51.3,710.9438,60.3,714.5438,56.7,710.9438" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="54.9" x2="307.8" y1="710.9438" y2="710.9438"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="65.7" y="699.2147">16</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="156.6" x="81.9" y="691.8565">Informs the operation success</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="140.4" x="85.5" y="706.5729">and shows the closest port</text><!--MD5=[7dd924cb752afd83863d93290950cbba]
@startuml

autonumber
actor "Port Manager" as M

participant ":FindClosestPortUI" as ui
participant ":FindClosestPortController" as controller
participant "Company" as COMP
participant "bstShip:\nBstShip" as BstShip
participant "ship:\nShip" as S
participant "shipLocationBst:\nShipLocationBST" as ShipLocationBST
participant "location:\nShipLocation" as SL
participant "portStr:\nPortStore" as str
participant "portsTree:\nPorts2DTree" as tree
participant "port: Ports" as port
participant "PortsMapper" as mapper
participant "dto: PortsDto" as dto

activate M
M -> ui: Initiates the process to get the closest port \n to a certain ship in a certain time.
activate ui
ui - -> M - -: Request the ship's CallSign and the date
deactivate ui
M -> ui: Introduce the requested data
activate ui
ui -> controller: findClosestPort(callSign, date)
activate controller
controller -> COMP: bstShip = getBstShip()
activate COMP
deactivate COMP
controller -> BstShip : ship = getShipByCallSign(callSign)
activate BstShip
deactivate BstShip
controller -> S : shipLocationBst = getShipPosition()
activate S
deactivate S
controller -> ShipLocationBST: location=getShipLocation(date)
activate ShipLocationBST
deactivate ShipLocationBST
controller -> COMP: portStr = getPortStr()
activate COMP
deactivate COMP
controller -> str: portsTree = getPorts2DTree()
activate str
deactivate str
controller -> tree : findNearestNeighbour(latitude, longitude)
activate tree
tree - -> controller : port
deactivate tree
controller -> mapper : toDto(port)
activate mapper
mapper - -> controller : dto
deactivate mapper
controller - -> ui: dto
deactivate controller
ui - -> M - -: Informs the operation success \n and shows the closest port 
deactivate ui

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>